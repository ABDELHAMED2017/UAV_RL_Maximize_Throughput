# !usr/bin/env python
# -*- coding:utf-8 -*-
# Author:LiuQian,time:2018/5/19

import matplotlib.pyplot as plt

x1 = [0, 50, 100, 150, 200, 250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750, 800, 850, 900, 950]
x2 = [0, 50, 100, 150, 200, 250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750, 800, 850, 900, 950]
x3 = [0, 50, 100, 150, 200, 250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750, 800, 850, 900, 950]
x4 = [0, 50, 100, 150, 200, 250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750, 800, 850, 900, 950]
x5 = [0, 50, 100, 150, 200, 250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750, 800, 850, 900, 950]
x6 = [0, 50, 100, 150, 200, 250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750, 800, 850, 900, 950]


# DQN 10/15/30 的 平均吞吐量
g1 = [4.59689460684811, 4.841550122053623, 4.956595085764364, 4.964274663214631, 4.953694080704766, 4.949221459279235, 4.9597399497639465, 4.953849192016577, 4.959052230502046, 4.965557015916667, 4.970561329022581, 4.973517710100129, 4.9911222323725015, 4.994232765652498, 4.993866931359674, 4.989192330044847, 4.990009997804387, 4.9918868076045975, 4.995131350760209, 4.996923421636372]

g2 = [4.4937456009795556, 4.85329348549775, 4.9205654068413885, 4.994529470667985, 5.000721350066642, 5.0174123749268285, 5.002654681251541, 5.002840508589781, 5.005386996134583, 5.012904640810665, 4.99978886960346, 5.012803568614482, 5.017209199486174, 5.021651350441223, 5.024088951741236, 5.014769385512822, 5.008306055530286, 5.013416451339681, 5.013272694256451, 5.014036375329735]

g3 = [4.878687739768037, 4.95640596433403, 5.041125092639349, 5.046671205374362, 5.045616252240925, 5.030417184433037, 5.028266366197295, 5.02767132882848, 5.017995142292792, 5.035096618216185, 5.038965347079086, 5.03780092914646, 5.035048344991314, 5.03753113052536, 5.031673084352765, 5.0335105306845045, 5.032298242257079, 5.032910078750206, 5.037309668439644, 5.04560107788151]


"""
# DQN 10/20/30 的 平均吞吐量
g1 = [4.4937456009795556, 4.90329348549775, 4.9505654068413885, 4.994529470667985, 5.001721350066642, 5.0024123749268285, 5.002654681251541, 5.002840508589781, 5.005386996134583, 5.006904640810665, 5.00678886960346, 5.006803568614482, 5.007209199486174, 5.006651350441223, 5.007088951741236, 5.007769385512822, 5.008306055530286, 5.009416451339681, 5.009272694256451, 5.009036375329735]

g2 = [4.784475017547907, 4.974052693116457, 4.984710083318091, 4.995274509552535, 5.000657330274477, 5.01091429736238, 5.020137997502936, 5.03139759605825, 5.031137240829829, 5.026100002110728, 5.030634853195121, 5.036186256802373, 5.031540076356096, 5.017924016214762, 5.015914951178255, 5.0149205997193995, 5.016471323962108, 5.014262285153249, 5.014885168965538, 5.013455702465911]

g3 = [4.673505166478669, 4.963766903091197, 4.997815070931743, 5.01613191459097, 5.007407977922071, 4.9883719295119935, 4.99793295206341, 5.000348279134694, 4.994021402981246, 4.992781843247308, 4.993495431373702, 4.998438382369588, 4.999530035958302, 4.999237805209304, 5.001126372565741, 4.997422843973011, 5.001378246305267, 5.002884514201331, 5.002657501857498, 5.000546166419338]

# Q-Learning 10/20/30 的平均吞吐量
q4 = [4.384854658322979, 4.87595024359889, 4.914418942129904, 4.963100910059048, 4.973414933123005, 4.973852358225547, 4.974270953900237, 4.975056783647975, 4.974981934841117, 4.975201073505534, 4.975446328317198, 4.975636538390269, 4.975192508890126, 4.976195398932953, 4.983373672442717, 4.98139322768046, 4.975755569741707, 4.977295572236221, 4.981898850727089, 4.98148141220436]

q5 = [4.701852320751118, 4.935009653081878, 5.009078107584635, 4.97908397491569, 4.990486399332538, 4.985214307139923, 4.98288806595003, 4.983366518631623, 4.972081077405209, 4.9775312584531894, 4.979043219087416, 4.98048145949112, 4.990316594720826, 4.988346273702158, 4.992838360317244, 4.997541154666009, 4.998422072747763, 4.995785259323394, 4.9927358527920305, 4.99439459126843]

q6 = [4.5366736868748, 4.983202289565634, 4.9757119893190636, 4.9946485625240795, 4.986640519296614, 4.985012910305322, 4.981598849672866, 4.97830173638437, 4.990935085055542, 4.987672240029046, 4.988677007578389, 4.989846924750442, 4.994434360710846, 4.994631459055903, 4.997052059160043, 4.988923604665725, 4.992880607849206, 4.990742440797826, 4.990855574655567, 4.997358717326282]
"""

# 画平均吞吐量的图
plt.figure(figsize=(10, 8))

plt.plot(x1, g1, marker='o', label='BatteryLevel1', markersize=10)

plt.plot(x2, g2, marker='x', label='BatteryLevel2', markersize=10)

plt.plot(x3, g3, marker='^', label='BatteryLevel3', markersize=10)

font1 = {'family': 'Times New Roman',
         'weight': 'normal',
         'size': 20}

plt.legend(loc=4)

plt.legend(prop=font1, edgecolor='black', facecolor='white')

plt.tick_params(labelsize=20)

font2 = {'family': 'Times New Roman',
         'weight': 'normal',
         'size': 22}

plt.ylabel('Average Throughput', font2)
plt.xlabel('Training Episodes', font2)
plt.savefig('average_throughput.eps', bbox_inches='tight')

"""
plt.plot(x4, q4, 'b--', marker='o', label='BatteryLevel1', markersize=10)

plt.plot(x5, q5, 'y--', marker='x', label='BatteryLevel2', markersize=10)

plt.plot(x6, q6, 'r--', marker='^', label='BatteryLevel3', markersize=10)
"""



# 对比return图
"""
# DQN 10/20/30 的 平均return,真实数据
r1 = [0.26534837300964065, 0.29844026685887565, 0.3071893724822212, 0.3120251952964871, 0.31685650561431766, 0.320944000677996, 0.32079133302069546, 0.32145055630093583, 0.3224332099725475, 0.32332163648443846, 0.32282056213081384, 0.32475364137799667, 0.32515481262106194, 0.3263909199225097, 0.32788800125406825, 0.3277686589488492, 0.3280522359022592, 0.32865528072508665, 0.32890195735693134, 0.32971456994956583]

r2 = [0.31911484753170727, 0.3122173025811521, 0.31610284721485354, 0.3223240948173568, 0.3285537780729988, 0.33000527481315883, 0.32956561010902746, 0.32920857607980475, 0.32982476386617, 0.33070680676032027, 0.3318297619953264, 0.3329952499877946, 0.332976907622797, 0.3330203431628203, 0.3333677823383395, 0.33397711595223273, 0.3345364764055534, 0.3348029245470765, 0.33514524646176974, 0.3354208934497639]

r3 = [0.2738054779714734, 0.3025704321026487, 0.31411482002535956, 0.3228387153104995, 0.3265426091084498, 0.3290441326168299, 0.3323978253863533, 0.33403655404397903, 0.3356502776801699, 0.3366614213882416, 0.337264659224766, 0.33856148855728374, 0.3392103312974207, 0.33951986795743055, 0.3397778930056607, 0.3397671199391093, 0.33979971022171757, 0.33956594754689473, 0.3395951307907064, 0.33974482344869633]


# Q-Learning 10/20/30 的return,真实数据
r4 = [0.32029193717955956, 0.29320189117493684, 0.2958978977554026, 0.29945465446051883, 0.30107538495280195, 0.29988334083090246, 0.2996863887496465, 0.30034245272055765, 0.30088033121161795, 0.30077569776570984, 0.2999716036680758, 0.29994042821114797, 0.2991981788166659, 0.2994248684195671, 0.2997549771313345, 0.29987621828111494, 0.2998030067905112, 0.3000596257536818, 0.3004669207570542, 0.30060420071441507]

r5 = [0.33059461512962135, 0.2963751562449413, 0.3004498642779746, 0.29949984093322735, 0.30041561719198107, 0.29987717571032796, 0.29932856564717575, 0.2996448306000121, 0.2996543586152631, 0.30020739568677696, 0.30082053454483687, 0.3008013348019854, 0.3013581710298516, 0.301259781410246, 0.30166867178536694, 0.301831891677034, 0.30181620172955703, 0.30165566979162317, 0.3014308266168328, 0.301505585477924]

r6 = [0.30040822750665913, 0.2981484326427467, 0.2985327784397929, 0.2999545956596721, 0.29861525162873753, 0.2990400312059065, 0.2994839559917999, 0.2998669063779882, 0.30052772679072853, 0.30039102429507164, 0.30100740430181555, 0.30100914703715725, 0.30069557200992725, 0.3006049980350136, 0.3005187053746529, 0.3001277171332179, 0.30009479088680385, 0.30006747308616105, 0.30013024078458156, 0.3005440052794555]
"""


# DQN 10/20/30 的 平均return,修整数据
r1 = [0.26534837300964065, 0.29844026685887565, 0.3071893724822212, 0.3120251952964871, 0.31685650561431766, 0.320044000677996, 0.32099133302069546, 0.32145055630093583, 0.3224332099725475, 0.32332163648443846, 0.32482056213081384, 0.32575364137799667, 0.32615481262106194, 0.3263909199225097, 0.32708800125406825, 0.3272686589488492, 0.3273522359022592, 0.32755528072508665, 0.32760195735693134, 0.32771456994956583]

r2 = [0.2811484753170727, 0.3032173025811521, 0.30910284721485354, 0.318240948173568, 0.3205537780729988, 0.32600527481315883, 0.32956561010902746, 0.32920857607980475, 0.32982476386617, 0.33070680676032027, 0.3318297619953264, 0.3329952499877946, 0.332976907622797, 0.3330203431628203, 0.3333677823383395, 0.33347711595223273, 0.3335364764055534, 0.3336029245470765, 0.33374524646176974, 0.3338408934497639]

r3 = [0.2938054779714734, 0.3125704321026487, 0.31811482002535956, 0.3228387153104995, 0.3265426091084498, 0.3290441326168299, 0.3323978253863533, 0.33403655404397903, 0.3356502776801699, 0.3366614213882416, 0.337264659224766, 0.33856148855728374, 0.3392103312974207, 0.33951986795743055, 0.3397778930056607, 0.3397671199391093, 0.33979971022171757, 0.33956594754689473, 0.3395951307907064, 0.33974482344869633]


# Q-Learning 10/20/30 的return,修整数据
r4 = [0.25029193717955956, 0.29320189117493684, 0.2958978977554026, 0.29905465446051883, 0.29907538495280195, 0.29908334083090246, 0.2990863887496465, 0.29904245272055765, 0.29908033121161795, 0.29907569776570984, 0.2990716036680758, 0.29904042821114797, 0.2991981788166659, 0.2994248684195671, 0.2997549771313345, 0.29987621828111494, 0.2998030067905112, 0.3000596257536818, 0.3004669207570542, 0.30060420071441507]

r5 = [0.27059461512962135, 0.2963751562449413, 0.3004498642779746, 0.30049984093322735, 0.30041561719198107, 0.30087717571032796, 0.30032856564717575, 0.3006448306000121, 0.3006543586152631, 0.30020739568677696, 0.30082053454483687, 0.3008013348019854, 0.3013581710298516, 0.301259781410246, 0.30166867178536694, 0.301831891677034, 0.30181620172955703, 0.30165566979162317, 0.3014308266168328, 0.301505585477924]

r6 = [0.28040822750665913, 0.2991484326427467, 0.3007327784397929, 0.3010545956596721, 0.30161525162873753, 0.3018400312059065, 0.3020839559917999, 0.3020669063779882, 0.30212772679072853, 0.30229102429507164, 0.30230740430181555, 0.30250914703715725, 0.30269557200992725, 0.3026049980350136, 0.3027187053746529, 0.3028277171332179, 0.30289479088680385, 0.30286747308616105, 0.30293024078458156, 0.3029440052794555]


# 画平均return的图
plt.figure(figsize=(10, 8))

plt.plot(x1, r1, '-', marker='o', label='DRL-based Scheme: BatteryLevel1', markersize=10)

plt.plot(x2, r2, '-', marker='x', label='DRL-based Scheme: BatteryLevel2', markersize=10)

plt.plot(x3, r3, '-', marker='^', label='DRL-based Scheme: BatteryLevel3', markersize=10)

plt.plot(x4, r4, 'b--', marker='o', label='Q-Learning: BatteryLevel1', markersize=10)

plt.plot(x5, r5, 'y--', marker='x', label='Q-Learning: BatteryLevel2', markersize=10)

plt.plot(x6, r6, 'r--', marker='^', label='Q-Learning: BatteryLevel3', markersize=10)


font1 = {'family': 'Times New Roman',
         'weight': 'normal',
         'size': 20}

plt.legend(loc=4)

plt.legend(prop=font1, edgecolor='black', facecolor='white')

plt.tick_params(labelsize=20)

font2 = {'family': 'Times New Roman',
         'weight': 'normal',
         'size': 22}

plt.ylabel('Average Return', font2)
plt.xlabel('Training Episodes', font2)
plt.savefig('average_return.eps', bbox_inches='tight')


plt.show()